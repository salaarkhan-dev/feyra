(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";e.s(["default",()=>g],52683);var t=e.i(43476),n=e.i(71645);let r="\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\nvarying vec2 vTextureCoord;\nvoid main() {\n  gl_Position = aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}\n",i=[{id:1,name:"Flowing Waves",theme:"flowing-waves",fragmentShader:"\nprecision mediump float;\nuniform vec2 iResolution;\nuniform float iTime;\nuniform vec2 iMouse;\nuniform bool hasActiveReminders;\nuniform bool hasUpcomingReminders;\nuniform bool disableCenterDimming;\nuniform bool useCircularMask;\nvarying vec2 vTextureCoord;\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 uv = (2.0 * fragCoord - iResolution.xy) / min(iResolution.x, iResolution.y);\n\n  // Calculate distance from center for dimming the center\n  vec2 center = iResolution.xy * 0.5;\n  float dist = distance(fragCoord, center);\n  float radius = min(iResolution.x, iResolution.y) * 0.5;\n  \n  // Create a dimming factor for the center area (30% of the radius)\n  float centerDim = disableCenterDimming ? 1.0 : smoothstep(radius * 0.3, radius * 0.5, dist);\n\n  for(float i = 1.0; i < 10.0; i++){\n    uv.x += 0.6 / i * cos(i * 2.5 * uv.y + iTime);\n    uv.y += 0.6 / i * cos(i * 1.5 * uv.x + iTime);\n  }\n  // Determine color based on reminder state (active OR upcoming -> blue)\n  if (hasActiveReminders || hasUpcomingReminders) {\n    // Blue shade for active reminders\n    fragColor = vec4(vec3(0.1, 0.3, 0.6) / abs(sin(iTime - uv.y - uv.x)), 1.0);\n  } else {\n    // Original neutral color\n    fragColor = vec4(vec3(0.1) / abs(sin(iTime - uv.y - uv.x)), 1.0);\n  }\n  \n  // Apply center dimming only if not disabled\n  if (!disableCenterDimming) {\n    fragColor.rgb = mix(fragColor.rgb * 0.3, fragColor.rgb, centerDim);\n  }\n}\n\nvoid main() {\n  vec2 fragCoord = vTextureCoord * iResolution;\n  if (useCircularMask) {\n    // Calculate distance from center for circular mask\n    vec2 center = iResolution * 0.5;\n    float dist = distance(fragCoord, center);\n    float radius = min(iResolution.x, iResolution.y) * 0.5;\n    if (dist < radius) {\n      vec4 color;\n      mainImage(color, fragCoord);\n      gl_FragColor = color;\n    } else {\n      discard;\n    }\n  } else {\n    vec4 color; \n    mainImage(color, fragCoord);\n    gl_FragColor = color;\n  }\n}\n",color:"#6366f1"},{id:2,name:"Ether",theme:"ether",fragmentShader:"\nprecision mediump float;\nuniform vec2 iResolution;\nuniform float iTime;\nuniform vec2 iMouse;\nuniform bool hasActiveReminders;\nuniform bool hasUpcomingReminders;\nuniform bool disableCenterDimming;\nuniform bool useCircularMask;\nvarying vec2 vTextureCoord;\n\n// Ether by nimitz 2014 (twitter: @stormoid)\n// https://www.shadertoy.com/view/MsjSW3\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License\n\n#define t iTime\nmat2 m(float a){float c=cos(a), s=sin(a);return mat2(c,-s,s,c);}\nfloat map(vec3 p, bool isActive, bool isUpcoming){\n    p.xz*= m(t*0.4);p.xy*= m(t*0.3);\n    vec3 q = p*2.+t;\n    return length(p+vec3(sin(t*0.7)))*log(length(p)+1.) + sin(q.x+sin(q.z+sin(q.y)))*0.5 - 1.;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    // Calculate aspect-corrected UV coordinates\n    vec2 p = (fragCoord.xy - iResolution.xy * 0.5) / min(iResolution.x, iResolution.y);\n    // Center the effect properly\n    // Zoom in (smaller multiplier -> larger on-screen effect)\n    p *= 1.1;\n    \n    vec3 cl = vec3(0.);\n    // Start slightly closer to make structures appear larger\n    float d = 1.8;\n    \n    // Ray marching loop\n    for(int i=0; i<=5; i++) {\n        vec3 p3d = vec3(0,0,5.) + normalize(vec3(p, -1.))*d;\n        float rz = map(p3d, hasActiveReminders, hasUpcomingReminders);\n        float f = clamp((rz - map(p3d+.1, hasActiveReminders, hasUpcomingReminders))*0.5, -.1, 1.);\n        \n        // Adjust colors based on reminder states (active OR upcoming -> blue)\n        vec3 baseColor;\n        if(hasActiveReminders || hasUpcomingReminders) {\n            // Blue palette for active reminders\n            baseColor = vec3(0.05, 0.2, 0.5) + vec3(4.0, 2.0, 5.0)*f;\n        } else {\n            // Original purple-blue palette\n            baseColor = vec3(0.1, 0.3, 0.4) + vec3(5.0, 2.5, 3.0)*f;\n        }\n        \n        cl = cl*baseColor + smoothstep(2.5, .0, rz)*.7*baseColor;\n        d += min(rz, 1.);\n    }\n    \n    // Add subtle mouse interaction\n    float mouseInfluence = 0.0;\n    if(iMouse.x > 0.0 || iMouse.y > 0.0) {\n        vec2 mousePos = iMouse.xy;\n        float mouseDist = length(p - (mousePos*2.0-vec2(1.0))*0.5);\n        mouseInfluence = smoothstep(0.6, 0.0, mouseDist);\n        \n        // Add subtle glow around mouse (active OR upcoming -> blue)\n        if(hasActiveReminders || hasUpcomingReminders) {\n            cl += vec3(0.2, 0.4, 1.0) * mouseInfluence * 0.3;\n        } else {\n            cl += vec3(0.5, 0.3, 0.7) * mouseInfluence * 0.3;\n        }\n    }\n    \n    // Calculate distance from center for dimming the center\n    vec2 center = iResolution.xy * 0.5;\n    float dist = distance(fragCoord, center);\n    float radius = min(iResolution.x, iResolution.y) * 0.5;\n    \n    // Create a dimming factor for the center area (30% of the radius)\n    float centerDim = disableCenterDimming ? 1.0 : smoothstep(radius * 0.3, radius * 0.5, dist);\n    \n    fragColor = vec4(cl, 1.0);\n    \n    // Apply center dimming only if not disabled\n    if (!disableCenterDimming) {\n        fragColor.rgb = mix(fragColor.rgb * 0.3, fragColor.rgb, centerDim);\n    }\n}\n\nvoid main() {\n    vec2 fragCoord = vTextureCoord * iResolution;\n    if (useCircularMask) {\n        // Calculate distance from center for circular mask\n        vec2 center = iResolution * 0.5;\n        float dist = distance(fragCoord, center);\n        float radius = min(iResolution.x, iResolution.y) * 0.5;\n        if (dist < radius) {\n            vec4 color;\n            mainImage(color, fragCoord);\n            gl_FragColor = color;\n        } else {\n            discard;\n        }\n    } else {\n        vec4 color; \n        mainImage(color, fragCoord);\n        gl_FragColor = color;\n    }\n}\n",color:"#8b5cf6"},{id:3,name:"Shooting Stars",theme:"shooting-stars",fragmentShader:"\nprecision mediump float;\nuniform vec2 iResolution;\nuniform float iTime;\nuniform vec2 iMouse;\nuniform bool hasActiveReminders;\nuniform bool hasUpcomingReminders;\nuniform bool disableCenterDimming;\nuniform bool useCircularMask;\nvarying vec2 vTextureCoord;\n\nvoid mainImage(out vec4 O, in vec2 fragCoord) {\n  O = vec4(0.0, 0.0, 0.0, 1.0);\n  vec2 b = vec2(0.0, 0.2);\n  vec2 p;\n  mat2 R = mat2(1.0, 0.0, 0.0, 1.0); // Initial identity matrix\n  \n  // Calculate distance from center for dimming the center\n  vec2 center = iResolution.xy * 0.5;\n  float dist = distance(fragCoord, center);\n  float radius = min(iResolution.x, iResolution.y) * 0.5;\n  \n  // Create a dimming factor for the center area (30% of the radius)\n  float centerDim = disableCenterDimming ? 1.0 : smoothstep(radius * 0.3, radius * 0.5, dist);\n  \n  // Using a proper GLSL loop structure\n  for(int i = 0; i < 20; i++) {\n    float fi = float(i) + 1.0; // Starting from 1.0\n    \n    // Create rotation matrix for this iteration\n    float angle = fi + 0.0;\n    float c = cos(angle);\n    float s = sin(angle);\n    R = mat2(c, -s, s, c);\n    \n    // Second rotation for effect\n    float angle2 = fi + 33.0;\n    float c2 = cos(angle2);\n    float s2 = sin(angle2);\n    mat2 R2 = mat2(c2, -s2, s2, c2);\n    \n    // Calculate position with proper aspect ratio\n    vec2 coord = (fragCoord - iResolution.xy * 0.5) / min(iResolution.x, iResolution.y) * fi * 0.1 + iTime * b;\n    vec2 frac_coord = fract(coord * R2) - 0.5;\n    p = R * frac_coord;\n    vec2 clamped_p = clamp(p, -b, b);\n    \n    // Calculate intensity and color\n    float len = length(clamped_p - p);\n    if (len > 0.0) {\n      vec4 star = 1e-3 / len * (cos(p.y / 0.1 + vec4(0.0, 1.0, 2.0, 3.0)) + 1.0);\n      O += star;\n    }\n  }\n  \n  // Adjust colors based on reminder state (active OR upcoming -> blue)\n  if (hasActiveReminders || hasUpcomingReminders) {\n    // Blue for active reminders\n    O.rgb = mix(O.rgb, vec3(0.2, 0.4, 1.0), 0.3);\n  }\n  \n  // Apply center dimming only if not disabled\n  if (!disableCenterDimming) {\n    O.rgb = mix(O.rgb * 0.3, O.rgb, centerDim);\n  }\n}\n\nvoid main() {\n  vec2 fragCoord = vTextureCoord * iResolution;\n  if (useCircularMask) {\n    // Calculate distance from center for circular mask\n    vec2 center = iResolution * 0.5;\n    float dist = distance(fragCoord, center);\n    float radius = min(iResolution.x, iResolution.y) * 0.5;\n    if (dist < radius) {\n      vec4 color;\n      mainImage(color, fragCoord);\n      gl_FragColor = color;\n    } else {\n      discard;\n    }\n  } else {\n    vec4 color;\n    mainImage(color, fragCoord);\n    gl_FragColor = color;\n  }\n}\n",color:"#ec4899"},{id:4,name:"Wavy Lines",theme:"wavy-lines",fragmentShader:"\nprecision mediump float;\nuniform vec2 iResolution;\nuniform float iTime;\nuniform vec2 iMouse;\nuniform bool hasActiveReminders;\nuniform bool hasUpcomingReminders;\nuniform bool disableCenterDimming;\nuniform bool useCircularMask;\nvarying vec2 vTextureCoord;\n\n#define PI 3.14159265359\n\nfloat hash(float n) {\n    return fract(sin(n) * 43758.5453);\n}\n\nfloat noise(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    f = f * f * (3.0 - 2.0 * f);\n    float a = hash(i.x + i.y * 57.0);\n    float b = hash(i.x + 1.0 + i.y * 57.0);\n    float c = hash(i.x + i.y * 57.0 + 1.0);\n    float d = hash(i.x + 1.0 + i.y * 57.0 + 1.0);\n    return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\n}\n\nfloat fbm(vec2 p) {\n    float sum = 0.0;\n    float amp = 0.5;\n    float freq = 1.0;\n    for(int i = 0; i < 6; i++) {\n        sum += amp * noise(p * freq);\n        amp *= 0.5;\n        freq *= 2.0;\n    }\n    return sum;\n}\n\nfloat lines(vec2 uv, float thickness, float distortion) {\n    // Create wavy lines\n    float y = uv.y;\n    \n    // Apply distortion based on fbm noise\n    float distortionAmount = distortion * fbm(vec2(uv.x * 2.0, y * 0.5 + iTime * 0.1));\n    y += distortionAmount;\n    \n    // Create lines with smooth step\n    float linePattern = fract(y * 20.0);\n    float line = smoothstep(0.5 - thickness, 0.5, linePattern) - \n                smoothstep(0.5, 0.5 + thickness, linePattern);\n    \n    return line;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    // Correct aspect ratio - center and normalize to square\n    vec2 uv = (fragCoord - iResolution.xy * 0.5) / min(iResolution.x, iResolution.y);\n    float aspect = iResolution.x / iResolution.y;\n    \n    // Mouse interaction - normalize mouse coordinates\n    vec2 mousePos = (iMouse.xy - 0.5) * 2.0; // Convert from [0,1] to [-1,1]\n    float mouseDist = length(uv - mousePos);\n    float mouseInfluence = smoothstep(0.5, 0.0, mouseDist);\n    \n    // Base thickness and distortion\n    float baseThickness = 0.05;\n    float baseDistortion = 0.2;\n    \n    // Adjust thickness and distortion based on mouse\n    float thickness = mix(baseThickness, baseThickness * 1.5, mouseInfluence);\n    float distortion = mix(baseDistortion, baseDistortion * 2.0, mouseInfluence);\n    \n    // Generate the wavy lines\n    float line = lines(uv, thickness, distortion);\n    \n    // Add subtle movement over time\n    float timeOffset = sin(iTime * 0.2) * 0.1;\n    float animatedLine = lines(uv + vec2(timeOffset, 0.0), thickness, distortion);\n    \n    // Blend between static and animated lines\n    line = mix(line, animatedLine, 0.3);\n    \n    // Default line colors based on reminder states\n    vec3 backgroundColor = vec3(0.0, 0.0, 0.0);\n    vec3 lineColor;\n    \n    if (hasActiveReminders || hasUpcomingReminders) {\n        // Blue for active reminders\n        lineColor = vec3(0.2, 0.4, 1.0);\n    } else {\n        // White for default\n        lineColor = vec3(1.0, 1.0, 1.0);\n    }\n    \n    vec3 finalColor = mix(backgroundColor, lineColor, line);\n    \n    // Add subtle glow around mouse position\n    if (hasActiveReminders || hasUpcomingReminders) {\n        finalColor += vec3(0.1, 0.2, 0.5) * mouseInfluence * line;\n    } else {\n        finalColor += vec3(0.1, 0.1, 0.1) * mouseInfluence * line;\n    }\n    \n    fragColor = vec4(finalColor, 1.0);\n    \n    // Calculate distance from center for dimming the center\n    vec2 center = iResolution.xy * 0.5;\n    float dist = distance(fragCoord, center);\n    float radius = min(iResolution.x, iResolution.y) * 0.5;\n    \n    // Create a dimming factor for the center area (30% of the radius)\n    float centerDim = disableCenterDimming ? 1.0 : smoothstep(radius * 0.3, radius * 0.5, dist);\n    \n    // Apply center dimming only if not disabled\n    if (!disableCenterDimming) {\n        fragColor.rgb = mix(fragColor.rgb * 0.3, fragColor.rgb, centerDim);\n    }\n}\n\nvoid main() {\n    vec2 fragCoord = vTextureCoord * iResolution;\n    if (useCircularMask) {\n        // Calculate distance from center for circular mask\n        vec2 center = iResolution * 0.5;\n        float dist = distance(fragCoord, center);\n        float radius = min(iResolution.x, iResolution.y) * 0.5;\n        if (dist < radius) {\n            vec4 color;\n            mainImage(color, fragCoord);\n            gl_FragColor = color;\n        } else {\n            discard;\n        }\n    } else {\n        vec4 color;\n        mainImage(color, fragCoord);\n        gl_FragColor = color;\n    }\n}\n",color:"#10b981"},{id:5,name:"Accretion",theme:"accretion",fragmentShader:'\nprecision mediump float;\nuniform vec2 iResolution;\nuniform float iTime;\nuniform vec2 iMouse;\nuniform bool hasActiveReminders;\nuniform bool hasUpcomingReminders;\nuniform bool disableCenterDimming;\nuniform bool useCircularMask;\nvarying vec2 vTextureCoord;\n\n// "Accretion" by @XorDev (adapted for this app)\n// I discovered an interesting refraction effect by adding the raymarch iterator to the turbulence!\n// https://x.com/XorDev/status/1936884244128661986\n\nvoid mainImage(out vec4 O, vec2 I)\n{\n    // Raymarch variables\n    float z = 0.0;   // depth\n    float d = 0.0;   // step distance\n    O = vec4(0.0);\n\n    // 20 steps as in the original (2e1) — WebGL1-safe loop\n    for (int k = 0; k < 20; ++k) {\n        float fi = float(k) + 1.0; // emulate original iterator (starts at 1)\n        // Sample point (from ray direction) - fix aspect ratio\n        vec2 centeredCoord = (I - iResolution.xy * 0.5) / min(iResolution.x, iResolution.y);\n        vec3 p = z * normalize(vec3(centeredCoord * 2.0, 0.0) - vec3(0.0, 0.0, 1.0)) + 0.1;\n\n        // Polar coordinates and additional transformations\n        p = vec3(atan(p.y / 0.2, p.x) * 2.0, p.z / 3.0, length(p.xy) - 5.0 - z * 0.2);\n\n        // Apply turbulence and refraction effect (int loop for WebGL1)\n        for (int j = 1; j <= 7; ++j) {\n            float fd = float(j);\n            p += sin(p.yzx * fd + iTime + 0.3 * fi) / fd;\n        }\n\n        // Distance to cylinder and waves with refraction\n        z += d = length(vec4(0.4 * cos(p) - 0.4, p.z));\n\n        // Base color modulation\n        vec4 col = (1.0 + cos(p.x + fi * 0.4 + z + vec4(6.0, 1.0, 2.0, 0.0))) / d;\n\n        // Palette shift with reminder state (active OR upcoming -> blue)\n        if (hasActiveReminders || hasUpcomingReminders) {\n            col.rgb = mix(col.rgb, vec3(0.2, 0.4, 1.0), 0.35);\n        }\n\n        // Accumulate\n        O += col;\n    }\n\n    // Tanh tonemap approximation (GLSL ES lacks tanh for genType)\n    vec4 x = (O * O) / 400.0;\n    vec4 e2x = exp(2.0 * x);\n    O = (e2x - 1.0) / (e2x + 1.0);\n}\n\nvoid main() {\n    vec2 fragCoord = vTextureCoord * iResolution;\n\n    // Optional circular mask\n    if (useCircularMask) {\n        vec2 center = iResolution * 0.5;\n        float dist = distance(fragCoord, center);\n        float radius = min(iResolution.x, iResolution.y) * 0.5;\n        if (dist >= radius) {\n            discard;\n        }\n    }\n\n    vec4 color;\n    mainImage(color, fragCoord);\n\n    // Center dimming control\n    if (!disableCenterDimming) {\n        vec2 center = iResolution * 0.5;\n        float dist = distance(fragCoord, center);\n        float radius = min(iResolution.x, iResolution.y) * 0.5;\n        float centerDim = smoothstep(radius * 0.3, radius * 0.5, dist);\n        color.rgb = mix(color.rgb * 0.3, color.rgb, centerDim);\n    }\n\n    gl_FragColor = color;\n}\n',color:"#22d3ee"}],o=Object.fromEntries(i.map(e=>[e.theme,e.id])),a=Object.fromEntries(i.map(e=>[e.id,e.theme]));function s(e){let{theme:a,mode:s,className:l,size:c=600,onClick:d,hasActiveReminder:m=!1,hasUpcomingReminder:u=!1}=e,f=(0,n.useRef)(null),h=(0,n.useRef)(0),x=(0,n.useRef)([.5,.5]),p=(0,n.useRef)(null),g=(0,n.useRef)(null),v=(0,n.useRef)(m),b=(0,n.useRef)(u);(0,n.useEffect)(()=>{v.current=m},[m]),(0,n.useEffect)(()=>{b.current=u},[u]);let w=i.find(e=>e.id===o[a])||i[0];function R(e,t,n){let r=e.createShader(t);return r?(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))?r:(console.error("An error occurred compiling the shaders: "+e.getShaderInfoLog(r)),e.deleteShader(r),null):null}return(0,n.useEffect)(()=>{let e=f.current;if(!e)return;let t=e.getContext("webgl");if(!t)return void console.error("WebGL not supported");g.current=t;let n=function(e,t,n){let r=R(e,e.VERTEX_SHADER,t),i=R(e,e.FRAGMENT_SHADER,n);if(!r||!i)return null;let o=e.createProgram();return o?(e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS))?o:(console.error("Unable to initialize the shader program: "+e.getProgramInfoLog(o)),null):null}(t,r,w.fragmentShader);if(!n)return;p.current={program:n,attribLocations:{vertexPosition:t.getAttribLocation(n,"aVertexPosition"),textureCoord:t.getAttribLocation(n,"aTextureCoord")},uniformLocations:{iResolution:t.getUniformLocation(n,"iResolution"),iTime:t.getUniformLocation(n,"iTime"),iMouse:t.getUniformLocation(n,"iMouse"),hasActiveReminders:t.getUniformLocation(n,"hasActiveReminders"),hasUpcomingReminders:t.getUniformLocation(n,"hasUpcomingReminders"),disableCenterDimming:t.getUniformLocation(n,"disableCenterDimming"),useCircularMask:t.getUniformLocation(n,"useCircularMask")}};let i=function(e){let t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.STATIC_DRAW);let n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),e.STATIC_DRAW);let r=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),{position:t,textureCoord:n,indices:r}}(t),o=Date.now();if("immersive"===s)e.width=window.innerWidth,e.height=window.innerHeight;else{let t=e.getBoundingClientRect();e.width=Math.max(1,Math.round(t.width)),e.height=Math.max(1,Math.round(t.height))}t.viewport(0,0,e.width,e.height);let a=()=>{var n,r,l,c,d,m,u,f,g;let w=(Date.now()-o)/1e3,R=x.current;n=t,r=p.current,l=i,c=w,d=e.width,m=e.height,u=v.current,f=b.current,g=R,n.clearColor(0,0,0,1),n.clearDepth(1),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.useProgram(r.program),n.uniform2f(r.uniformLocations.iResolution,d,m),n.uniform1f(r.uniformLocations.iTime,c),n.uniform2f(r.uniformLocations.iMouse,g[0],g[1]),n.uniform1i(r.uniformLocations.hasActiveReminders,+!!u),n.uniform1i(r.uniformLocations.hasUpcomingReminders,+!!f),n.uniform1i(r.uniformLocations.disableCenterDimming,1),r.uniformLocations.useCircularMask&&n.uniform1i(r.uniformLocations.useCircularMask,+("simple"===s)),n.bindBuffer(n.ARRAY_BUFFER,l.position),n.vertexAttribPointer(r.attribLocations.vertexPosition,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.attribLocations.vertexPosition),n.bindBuffer(n.ARRAY_BUFFER,l.textureCoord),n.vertexAttribPointer(r.attribLocations.textureCoord,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.attribLocations.textureCoord),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,l.indices),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),h.current=requestAnimationFrame(a)};a();let l=null,c=()=>{e&&g.current&&"immersive"===s&&(e.width=window.innerWidth,e.height=window.innerHeight,g.current.viewport(0,0,e.width,e.height))};return"immersive"===s?window.addEventListener("resize",c):"undefined"!=typeof ResizeObserver&&(l=new ResizeObserver(()=>{if(!e||!g.current)return;let t=e.getBoundingClientRect(),n=Math.max(1,Math.round(t.width)),r=Math.max(1,Math.round(t.height));(e.width!==n||e.height!==r)&&(e.width=n,e.height=r,g.current.viewport(0,0,e.width,e.height))})).observe(e),()=>{cancelAnimationFrame(h.current),t&&n&&t.deleteProgram(n),"immersive"===s&&window.removeEventListener("resize",c),l&&l.disconnect()}},[a,s,c,w.fragmentShader]),(0,t.jsx)("div",{className:"simple"===s?"p-8 md:p-12 lg:p-16":"",children:(0,t.jsx)("canvas",{ref:f,className:"".concat(l," ").concat("simple"===s?"rounded-full w-[80vmin] h-[80vmin] transform-gpu transition-all duration-200 ease-out shadow-[0_0_36px_rgba(255,255,255,0.08)] hover:scale-[1.03] hover:shadow-[0_0_48px_rgba(255,255,255,0.12)] ring-1 ring-white/5 hover:ring-white/10":"w-full h-full"),style:{display:"block"},onMouseLeave:()=>{x.current=[.5,.5]},onMouseMove:e=>{if(!f.current)return;let t=f.current.getBoundingClientRect();x.current=[(e.clientX-t.left)/t.width,(e.clientY-t.top)/t.height]},onClick:d})})}function l(e){let{mode:n,onModeChange:r,className:i}=e,o="immersive"===n;return(0,t.jsxs)("button",{onClick:()=>r(o?"simple":"immersive"),"aria-label":"Switch to ".concat(o?"Simple":"Immersive"," mode"),"aria-pressed":o,className:"relative inline-flex h-6 w-10 items-center rounded-full border border-white/20 overflow-hidden ".concat(o?"bg-white/20":"bg-white/10"," backdrop-blur-md transition-colors duration-200 hover:bg-white/20 cursor-pointer ").concat(null!=i?i:""),children:[(0,t.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-[-2px] rounded-full bg-white/20 blur-md transition-opacity duration-200 ".concat(o?"opacity-100":"opacity-0")}),(0,t.jsx)("span",{className:"absolute left-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-white/80 transition-transform duration-200 ".concat(o?"translate-x-4":"translate-x-0")})]})}let c=e=>{let{shaderId:o,isSelected:a,onSelect:s,onMouseEnter:l,onMouseLeave:c}=e,d=(0,n.useRef)(null),m=(0,n.useRef)(0),u=(0,n.useRef)(null),f=i.find(e=>e.id===o)||i[0];function h(e,t,n){let r=e.createShader(t);return r?(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))?r:(console.error("Shader compile error:",e.getShaderInfoLog(r)),e.deleteShader(r),null):null}return(0,n.useEffect)(()=>{let e=d.current;if(!e)return;let t=e.getContext("webgl",{alpha:!0});if(!t)return;e.width=40,e.height=40,t.viewport(0,0,e.width,e.height);let n=function(e,t,n){let r=h(e,e.VERTEX_SHADER,t),i=h(e,e.FRAGMENT_SHADER,n);if(!r||!i)return null;let o=e.createProgram();return o?(e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS))?o:(console.error("Shader link error:",e.getProgramInfoLog(o)),null):null}(t,r,f.fragmentShader);if(!n)return;u.current={program:n,attribLocations:{vertexPosition:t.getAttribLocation(n,"aVertexPosition"),textureCoord:t.getAttribLocation(n,"aTextureCoord")},uniformLocations:{iResolution:t.getUniformLocation(n,"iResolution"),iTime:t.getUniformLocation(n,"iTime"),iMouse:t.getUniformLocation(n,"iMouse"),hasActiveReminders:t.getUniformLocation(n,"hasActiveReminders"),hasUpcomingReminders:t.getUniformLocation(n,"hasUpcomingReminders"),disableCenterDimming:t.getUniformLocation(n,"disableCenterDimming"),useCircularMask:t.getUniformLocation(n,"useCircularMask")}};let i=function(e){let t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.STATIC_DRAW);let n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),e.STATIC_DRAW);let r=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),{position:t,textureCoord:n,indices:r}}(t),o=Date.now(),a=()=>{let n=(Date.now()-o)/1e3;(function(e,t,n,r,i,o){t&&(e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.useProgram(t.program),e.uniform2f(t.uniformLocations.iResolution,i,o),e.uniform1f(t.uniformLocations.iTime,r),e.uniform2f(t.uniformLocations.iMouse,.5,.5),e.uniform1i(t.uniformLocations.hasActiveReminders,0),e.uniform1i(t.uniformLocations.hasUpcomingReminders,0),e.uniform1i(t.uniformLocations.disableCenterDimming,1),t.uniformLocations.useCircularMask&&e.uniform1i(t.uniformLocations.useCircularMask,0),e.bindBuffer(e.ARRAY_BUFFER,n.position),e.vertexAttribPointer(t.attribLocations.vertexPosition,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.attribLocations.vertexPosition),e.bindBuffer(e.ARRAY_BUFFER,n.textureCoord),e.vertexAttribPointer(t.attribLocations.textureCoord,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.attribLocations.textureCoord),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.indices),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))})(t,u.current,i,n,e.width,e.height),m.current=requestAnimationFrame(a)};return a(),()=>{cancelAnimationFrame(m.current),t&&n&&t.deleteProgram(n)}},[o,f.fragmentShader]),(0,t.jsx)("button",{className:"w-10 h-10 rounded-full cursor-pointer border-2 overflow-hidden relative transition-transform duration-150 ".concat(a?"scale-110 ring-2 ring-white/50":"hover:scale-110"),style:{borderColor:a?"white":"rgba(255,255,255,0.3)"},onClick:s,onMouseEnter:l,onMouseLeave:c,"aria-label":"Shader preview",children:(0,t.jsx)("canvas",{ref:d,className:"absolute inset-0 rounded-full",style:{width:"100%",height:"100%"}})})};function d(e){let{selectedShader:r,onSelectShader:o,className:a}=e,[s,l]=(0,n.useState)(null),[d,m]=(0,n.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button","aria-label":d?"Close shader selector":"Open shader selector",onClick:()=>m(e=>!e),className:"md:hidden fixed right-4 top-8 z-30 w-11 h-11 rounded-full bg-black/40 border border-white/20 backdrop-blur-md flex items-center justify-center text-white shadow-lg transition-transform active:scale-95 cursor-pointer",children:d?(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})}):(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M12 5v14M5 12h14"})})}),(0,t.jsx)("div",{className:"fixed right-4 top-1/2 -translate-y-1/2 flex flex-col gap-3 z-20 "+"".concat(d?"translate-x-0 opacity-100 pointer-events-auto":"translate-x-8 opacity-0 pointer-events-none"," ")+"transition-all duration-300 ease-out md:translate-x-0 md:opacity-100 md:pointer-events-auto "+"".concat(null!=a?a:""),children:i.map(e=>(0,t.jsx)("div",{className:"".concat(s&&s!==e.id?"opacity-60":"opacity-100"," cursor-pointer"),children:(0,t.jsx)(c,{shaderId:e.id,isSelected:r===e.id,onSelect:()=>o(e.id),onMouseEnter:()=>l(e.id),onMouseLeave:()=>l(null)})},e.id))})]})}function m(e){let{className:r,showClear:i,onClear:o}=e,[a,s]=(0,n.useState)(new Date),[l,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{c(!0);let e=setInterval(()=>s(new Date),1e3);return()=>clearInterval(e)},[]);let d=e=>e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),m=(e=>{let t=e.getHours(),n=(t%12||12).toString(),r=e.getMinutes().toString().padStart(2,"0");return{h:n,m:r,sec:e.getSeconds(),period:t>=12?"PM":"AM"}})(a),u=m.sec%2==0;return l?(0,t.jsxs)("div",{className:"pointer-events-none ".concat(null!=r?r:""),children:[(0,t.jsx)("div",{className:"absolute sm:hidden left-1/2 -translate-x-1/2 flex justify-center",style:{top:"calc(50% + 32vmin)"},children:(0,t.jsxs)("div",{className:"relative rounded-full bg-white/5 border border-white/10 backdrop-blur-md shadow-[0_8px_30px_rgba(255,255,255,0.05)] pl-4 pr-8 py-1.5 mt-1 text-white/95 min-w-[16rem]",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsx)("span",{className:"font-orbitron text-xl tracking-[0.12em]",children:m.h}),(0,t.jsx)("span",{className:"font-orbitron text-xl tracking-[0.12em] text-white/90 transition-opacity duration-300 ".concat(u?"opacity-25":"opacity-100"),children:":"}),(0,t.jsx)("span",{className:"font-orbitron text-xl tracking-[0.12em]",children:m.m}),(0,t.jsx)("span",{className:"font-rajdhani uppercase text-[10px] tracking-[0.32em] text-white/70 mb-[2px]",children:m.period})]}),(0,t.jsx)("div",{className:"font-rajdhani uppercase text-[10px] tracking-[0.32em] text-white/70",children:d(a)})]}),i?(0,t.jsx)("button",{"aria-label":"Clear reminder",className:"pointer-events-auto absolute right-2 top-1/2 -translate-y-1/2 rounded-full px-2 py-1 text-white/60 hover:text-white/90 hover:bg-white/10 cursor-pointer text-xs",onClick:e=>{e.stopPropagation(),o&&o()},children:"Clear"}):null]})}),(0,t.jsx)("div",{className:"hidden sm:flex absolute inset-x-0 bottom-14 md:bottom-16 lg:bottom-20 justify-center",children:(0,t.jsx)("div",{className:"rounded-full bg-white/5 border border-white/10 backdrop-blur-md shadow-[0_8px_30px_rgba(255,255,255,0.05)] px-3.5 sm:px-5 py-1.5 sm:py-2 text-white/95",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-0.5 sm:flex-row sm:gap-3",children:[(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsx)("span",{className:"font-orbitron text-2xl sm:text-3xl md:text-4xl tracking-[0.12em]",children:m.h}),(0,t.jsx)("span",{className:"font-orbitron text-2xl sm:text-3xl md:text-4xl tracking-[0.12em] text-white/90 transition-opacity duration-300 ".concat(u?"opacity-25":"opacity-100"),children:":"}),(0,t.jsx)("span",{className:"font-orbitron text-2xl sm:text-3xl md:text-4xl tracking-[0.12em]",children:m.m}),(0,t.jsx)("span",{className:"font-rajdhani uppercase text-[10px] sm:text-xs tracking-[0.32em] text-white/70 mb-[2px]",children:m.period})]}),(0,t.jsx)("span",{className:"hidden sm:inline-block w-1 h-1 rounded-full bg-white/20 align-middle"}),(0,t.jsx)("div",{className:"font-rajdhani uppercase text-[10px] sm:text-xs tracking-[0.35em] text-white/75 text-center sm:text-left",children:d(a)})]})})})]}):null}function u(e){let{className:r,reminder:i,onOpenDrawer:o,onMarkDone:a,onClear:s}=e,[l,c]=(0,n.useState)(new Date);(0,n.useEffect)(()=>{let e=setInterval(()=>{c(new Date)},1e3);return()=>clearInterval(e)},[]);let d=e=>{let t=e.getHours(),n=(t%12||12).toString();return{hour:n,minute:e.getMinutes().toString().padStart(2,"0"),seconds:e.getSeconds().toString().padStart(2,"0"),period:t>=12?"PM":"AM"}},m=e=>{if(!e)return null;let[t,n]=e.split(":"),r=new Date;r.setHours(parseInt(t||"0",10),parseInt(n||"0",10),0,0);let i=r.getTime()-l.getTime();if(i<=0)return"due now";let o=Math.ceil(i/6e4);return o>5?null:"".concat(o," min remaining")};return(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none ".concat(null!=r?r:""),children:(0,t.jsxs)("div",{className:"relative pointer-events-auto",onClick:o,children:[(0,t.jsx)("div",{className:"absolute inset-0 w-90 h-90 rounded-full border border-white/10 animate-pulse"}),(0,t.jsxs)("div",{className:"w-90 h-90 rounded-full bg-black/20 backdrop-blur-md border border-white/15 flex flex-col items-center justify-center text-center shadow-2xl overflow-hidden group cursor-pointer",children:[i&&i.text&&!i.done?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 text-[10px] sm:text-xs font-rajdhani tracking-[0.28em] text-white/85 uppercase whitespace-nowrap",children:i.time||"".concat(d(l).hour,":").concat(d(l).minute," ").concat(d(l).period)}),m(i.time)?(0,t.jsx)("div",{className:"absolute top-7 left-1/2 -translate-x-1/2 text-[10px] sm:text-xs font-rajdhani tracking-[0.18em] text-white/75 uppercase whitespace-nowrap",children:m(i.time)}):null]}):(0,t.jsxs)("div",{className:"text-white/95 font-light tracking-wider",children:[(()=>{let e=d(l),n=Number(e.seconds)%2==0;return(0,t.jsxs)("div",{className:"flex items-end justify-center gap-3 mb-3 whitespace-nowrap",children:[(0,t.jsx)("span",{className:"text-5xl sm:text-6xl font-orbitron font-semibold tracking-[0.16em] sm:tracking-[0.18em] text-white drop-shadow-[0_0_12px_rgba(255,255,255,0.25)]",children:e.hour}),(0,t.jsx)("span",{className:"text-5xl sm:text-6xl font-orbitron tracking-[0.16em] sm:tracking-[0.18em] text-white/90 drop-shadow-[0_0_10px_rgba(255,255,255,0.2)] transition-opacity duration-300 ".concat(n?"opacity-25":"opacity-100"),children:":"}),(0,t.jsx)("span",{className:"text-5xl sm:text-6xl font-orbitron font-semibold tracking-[0.16em] sm:tracking-[0.18em] text-white drop-shadow-[0_0_12px_rgba(255,255,255,0.25)]",children:e.minute}),(0,t.jsx)("span",{className:"self-end mb-[2px] font-rajdhani text-[14px] sm:text-xs leading-none tracking-[0.35em] text-white/85 uppercase",children:e.period})]})})(),(0,t.jsx)("div",{className:"text-sm text-white/80 tracking-[0.25em] font-rajdhani font-medium uppercase",children:l.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),i&&i.text&&!i.done?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"px-8 text-white text-xl sm:text-2xl font-rajdhani tracking-wide select-none max-w-[70vmin] break-words text-pretty transition-opacity duration-150 group-hover:opacity-0",children:i.text.length>150?i.text.slice(0,150).trimEnd()+"…":i.text}),(0,t.jsx)("div",{className:"absolute inset-0 hidden group-hover:flex items-center justify-center bg-black/20",children:(0,t.jsx)("button",{className:"rounded-full border border-white/20 bg-white/10 text-white px-4 py-2 hover:bg-white/15 cursor-pointer",onClick:e=>{e.stopPropagation(),a&&a()},children:"Mark as done"})})]}):null]}),i&&!i.done?(0,t.jsx)("div",{className:"mt-4 flex flex-col items-center justify-center pointer-events-none",children:(0,t.jsxs)("div",{className:"pointer-events-auto rounded-full bg-white/5 border border-white/10 backdrop-blur-md px-4 py-1.5 text-white/90 flex items-center gap-3",children:[(()=>{let e=d(l),n=Number(e.seconds)%2==0;return(0,t.jsxs)("div",{className:"flex items-end gap-1",children:[(0,t.jsx)("span",{className:"font-orbitron text-base tracking-[0.12em]",children:e.hour}),(0,t.jsx)("span",{className:"font-orbitron text-base tracking-[0.12em] text-white/85 transition-opacity ".concat(n?"opacity-25":"opacity-100"),children:":"}),(0,t.jsx)("span",{className:"font-orbitron text-base tracking-[0.12em]",children:e.minute}),(0,t.jsx)("span",{className:"font-rajdhani uppercase text-[10px] tracking-[0.28em] text-white/70 mb-[2px]",children:e.period})]})})(),(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-white/20"}),(0,t.jsx)("button",{className:"rounded-full px-2 py-1 text-white/70 hover:text-white/95 hover:bg-white/10 cursor-pointer text-xs",onClick:e=>{e.stopPropagation(),s&&s()},children:"Clear"})]})}):null]})})}function f(e){let{open:r,onClose:i,onSave:o,initial:a}=e,[s,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),m=(0,n.useRef)(null),u=(0,n.useRef)(null),[f,h]=(0,n.useState)("");(0,n.useEffect)(()=>{if(r){var e;if(l(null!=(e=null==a?void 0:a.text)?e:""),null==a?void 0:a.time)d(a.time);else{let e=new Date;e.setMinutes(e.getMinutes()+10);let t=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");d("".concat(t,":").concat(n))}h("")}},[r,null==a?void 0:a.text,null==a?void 0:a.time]),(0,n.useEffect)(()=>{let e=e=>{r&&"Escape"===e.key&&g()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,i]);let x=(0,n.useMemo)(()=>"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),[]),p=()=>{try{var e,t,n;null==(e=u.current)||e.blur(),"undefined"!=typeof document&&(null==(n=document.activeElement)||null==(t=n.blur)||t.call(n))}catch(e){}},g=()=>{p(),setTimeout(p,0),i()};if(!r)return null;let v=0===s.trim().length||s.trim().length>300||0===c.trim().length;return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"reminder-drawer-title",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:g}),(0,t.jsxs)("div",{ref:m,className:"relative w-full max-w-xl rounded-t-3xl bg-black/70 border-t border-white/10 backdrop-blur-xl p-5 sm:p-6 text-white shadow-[0_-8px_40px_rgba(0,0,0,0.5)]",tabIndex:-1,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{id:"reminder-drawer-title",className:"font-rajdhani text-2xl sm:text-3xl tracking-[0.08em] font-semibold",children:"What do you want to be reminded today?"}),(0,t.jsx)("p",{className:"text-white/70 text-xs sm:text-sm",children:"Add time for when you need to be reminded"})]}),(0,t.jsx)("button",{"aria-label":"Close",className:"rounded-full px-2 py-1 text-white/70 hover:text-white/95 hover:bg-white/10 cursor-pointer",onClick:g,children:"×"})]}),(0,t.jsxs)("form",{className:"mt-4 flex flex-col gap-3",onSubmit:e=>{e.preventDefault(),(()=>{p();let e=s.trim(),t=c.trim();return e?e.length>300?h("Reminder must be 300 characters or fewer."):t?(o({text:e,time:t}),l(""),d(""),h(""),i()):h("Please set a time."):h("Please enter a reminder.")})()},children:[(0,t.jsx)("input",{type:"text",placeholder:"I need to…",className:"w-full rounded-xl bg-white/5 border px-3 py-2 outline-none placeholder:text-white/40 focus:border-white/25 ".concat(s.trim().length>300?"border-red-400/60":"border-white/10"),value:s,maxLength:300,onChange:e=>l(e.target.value),"aria-label":"Reminder text",autoFocus:!0}),(0,t.jsx)("input",{type:"time",required:!0,className:"w-40 rounded-xl bg-white/5 border border-white/10 px-3 py-2 outline-none focus:border-white/25 text-white [color-scheme:dark]",value:c,onChange:e=>{d(e.target.value)},onBlur:()=>{x&&(p(),setTimeout(()=>{try{var e;if(null==(e=m.current)||e.focus(),m.current){let e=m.current,t=e.style.transform;e.style.transform="translateZ(0)",e.offsetHeight,e.style.transform=t}window.scrollTo(window.scrollX,window.scrollY)}catch(e){}},0))},"aria-label":"Reminder time",ref:u}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-1","aria-label":"Quick time presets",children:[5,10,15,25,30,60].map(e=>(0,t.jsx)("button",{type:"button",className:"rounded-full border border-white/15 bg-white/5 text-white/85 hover:bg-white/10 px-3 py-1 text-xs cursor-pointer",onClick:()=>{var t;d((e=>{let t=new Date;t.setMinutes(t.getMinutes()+e);let n=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0");return"".concat(n,":").concat(r)})(e)),null==(t=u.current)||t.focus()},"aria-label":60===e?"Set time to now plus 1 hour":"Set time to now plus ".concat(e," minutes"),children:60===e?"+1h":"+".concat(e,"m")},e))}),f?(0,t.jsx)("div",{className:"text-red-300/90 text-xs mt-1",children:f}):null,(0,t.jsx)("div",{className:"pt-2"}),(0,t.jsx)("button",{disabled:v,className:"w-full rounded-full py-2.5 font-medium ".concat(v?"bg-white/40 text-black/70 cursor-not-allowed":"bg-white text-black/90 hover:bg-white/90 cursor-pointer"),type:"submit",children:"Set Reminder"}),(0,t.jsx)("button",{type:"button",onClick:g,className:"sm:hidden mt-2 w-full rounded-full border border-white/15 bg-white/5 text-white/90 hover:bg-white/10 py-2 cursor-pointer","aria-label":"Close drawer",children:"Close"})]})]})]})}function h(e){let{text:r,time:i,onMarkDone:o,onOpenDrawer:a}=e,s=r.length>150?r.slice(0,150).trimEnd()+"…":r,[l,c]=(0,n.useState)(new Date);(0,n.useEffect)(()=>{let e=setInterval(()=>c(new Date),1e3);return()=>clearInterval(e)},[]);let d=e=>{if(!e)return null;let[t,n]=e.split(":"),r=new Date;r.setHours(parseInt(t||"0",10),parseInt(n||"0",10),0,0);let i=r.getTime()-l.getTime();if(i<=0)return"due now";let o=Math.ceil(i/6e4);return o>5?null:"".concat(o," min remaining")};return(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none","aria-hidden":!1,children:(0,t.jsxs)("div",{className:"relative pointer-events-auto w-[64vmin] h-[64vmin] rounded-full bg-black/30 backdrop-blur-md border border-white/15 flex items-center justify-center text-center overflow-hidden group",onClick:a,children:[i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 text-[10px] sm:text-xs font-rajdhani tracking-[0.28em] text-white/80 uppercase whitespace-nowrap",children:i}),d(i)?(0,t.jsx)("div",{className:"absolute top-7 left-1/2 -translate-x-1/2 text-[10px] sm:text-xs font-rajdhani tracking-[0.18em] text-white/75 uppercase whitespace-nowrap",children:d(i)}):null]}):null,(0,t.jsx)("div",{className:"px-8 text-white text-xl sm:text-2xl font-rajdhani tracking-wide select-none max-w-[52vmin] break-words text-pretty transition-opacity duration-150 group-hover:opacity-0",children:s}),(0,t.jsx)("div",{className:"absolute inset-0 hidden group-hover:flex items-center justify-center bg-black/20",children:(0,t.jsx)("button",{className:"rounded-full border border-white/20 bg-white/10 text-white px-4 py-2 hover:bg-white/15 cursor-pointer",onClick:e=>{e.stopPropagation(),o()},children:"Mark as done"})})]})})}function x(e){let{t:r,onDismiss:i}=e,[o,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=requestAnimationFrame(()=>a(!0));return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)("div",{role:"status","aria-live":"polite",className:"pointer-events-auto w-full sm:w-[24rem] max-w-[92vw] sm:max-w-[24rem] rounded-2xl backdrop-blur-xl border shadow-[0_8px_40px_rgba(0,0,0,0.35)]\n        bg-white/10 border-white/15 transition-all duration-300 ease-out\n        ".concat(o?"opacity-100 translate-y-0":"opacity-0 translate-y-2","\n      "),children:(0,t.jsxs)("div",{className:"flex items-start gap-3 px-4 py-3.5 sm:px-5 sm:py-4",children:[(0,t.jsx)("div",{className:"mt-0.5 shrink-0 text-white/80",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.35"}),(0,t.jsx)("path",{d:"M12 7v5l3 2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[r.title?(0,t.jsx)("div",{className:"font-rajdhani text-xs sm:text-sm uppercase tracking-[0.28em] text-white/70 mb-1",children:r.title}):null,(0,t.jsx)("div",{className:"text-white/95 font-medium leading-snug break-words sm:text-[15px]",children:r.message}),r.meta?(0,t.jsx)("div",{className:"mt-0.5 text-[12px] sm:text-[13px] text-white/65 leading-snug break-words",children:r.meta}):null]}),r.onAction&&r.actionText?(0,t.jsx)("button",{className:"shrink-0 ml-1 rounded-full px-3 py-1 text-xs text-white/90 hover:text-white bg-white/10 hover:bg-white/15 border border-white/10 cursor-pointer",onClick:()=>{var e;null==(e=r.onAction)||e.call(r),i(r.id)},children:r.actionText}):null,(0,t.jsx)("button",{"aria-label":"Dismiss",className:"shrink-0 ml-1 rounded-full p-1 text-white/70 hover:text-white/95 hover:bg-white/10 cursor-pointer",onClick:()=>i(r.id),children:(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",className:"block",children:(0,t.jsx)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]})},r.id)}function p(e){let{toasts:r,onDismiss:i}=e;return((0,n.useEffect)(()=>{let e=r.map(e=>{var t;let n=null!=(t=e.durationMs)?t:4e3;if(!(n<=0))return setTimeout(()=>i(e.id),n)});return()=>e.forEach(e=>e&&clearTimeout(e))},[r,i]),null==r?void 0:r.length)?(0,t.jsx)("div",{className:"pointer-events-none fixed z-[60] top-3 left-3 right-3 sm:top-6 sm:right-6 sm:left-auto flex flex-col items-center sm:items-end gap-3 px-0 sm:px-0",children:r.map(e=>(0,t.jsx)(x,{t:e,onDismiss:i},e.id))}):null}function g(){let[e,r]=(0,n.useState)("simple"),[i,c]=(0,n.useState)("flowing-waves"),[x,g]=(0,n.useState)(!1),[v,b]=(0,n.useState)(null),[w,R]=(0,n.useState)([]),[y,C]=(0,n.useState)(!1),[j,k]=(0,n.useState)(null),{ready:A,unlocked:S,playNormal:N,playDue:T}=function(){let e=(0,n.useRef)(null),t=(0,n.useRef)(null),[r,i]=(0,n.useState)(!1),[o,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{var n;let r=null==(n=document.querySelector('link[rel="manifest"]'))?void 0:n.href,s=(null==r?void 0:r.replace(/\/site\.webmanifest.*$/,""))||"/";if(!s||"/"===s){let e=window.location.pathname.split("/").filter(Boolean)[0];s=e?"/".concat(e,"/"):"/"}"/"===s||s.endsWith("/")||(s="".concat(s,"/"));let l=new Audio(new URL("sounds/toast.mp3",s).toString()),c=new Audio(new URL("sounds/reminder.mp3",s).toString());l.preload="auto",c.preload="auto",e.current=l,t.current=c;try{l.load(),c.load()}catch(e){}i(!0);let d=async()=>{if(!o)try{e.current&&(e.current.muted=!0,await e.current.play(),e.current.pause(),e.current.currentTime=0,e.current.muted=!1),t.current&&(t.current.muted=!0,await t.current.play(),t.current.pause(),t.current.currentTime=0,t.current.muted=!1),a(!0)}catch(e){}},m=["pointerdown","keydown","touchstart","mousedown"];return m.forEach(e=>document.addEventListener(e,d,{once:!1})),()=>{m.forEach(e=>document.removeEventListener(e,d))}},[o]),{ready:r,unlocked:o,playNormal:()=>{if(!o)return;let t=e.current;if(t)try{t.volume=1,t.currentTime=0,t.play()}catch(e){}},playDue:()=>{if(!o)return;let e=t.current;if(e)try{e.volume=1,e.currentTime=0,e.play()}catch(e){}}}}();(0,n.useEffect)(()=>{let e=localStorage.getItem("feyra-mode"),t=localStorage.getItem("feyra-theme"),n=localStorage.getItem("feyra-reminder-text")||"",i=localStorage.getItem("feyra-reminder-time")||"",a="1"===localStorage.getItem("feyra-reminder-done");e&&("simple"===e||"immersive"===e)&&r(e),t&&o[t]&&c(t),n.trim()&&b({text:n.trim(),time:i||void 0,done:a})},[]);let L=()=>g(!0),E=()=>{if(v){if(b({...v,done:!0}),localStorage.setItem("feyra-reminder-done","1"),!y)try{N()}catch(e){}j&&(_(j),k(null))}},D=()=>{b(null),localStorage.removeItem("feyra-reminder-text"),localStorage.removeItem("feyra-reminder-time"),localStorage.removeItem("feyra-reminder-done"),C(!1);try{N()}catch(e){}j&&(_(j),k(null))},M=e=>{let t="".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,7));return R(n=>[...n,{id:t,...e}]),t},_=e=>R(t=>t.filter(t=>t.id!==e)),I=e=>{k(M({kind:"info",title:"It's time",message:e||"Reminder",meta:(null==v?void 0:v.time)?"".concat(v.time," • due now"):void 0,actionText:"Mark done",onAction:()=>E(),durationMs:0}));try{T()}catch(e){}},U=e=>{let[t,n]=e.split(":"),r=new Date;return r.setHours(parseInt(t||"0",10),parseInt(n||"0",10),0,0),Date.now()>=r.getTime()};(0,n.useEffect)(()=>{C(!1)},[null==v?void 0:v.text,null==v?void 0:v.time]),(0,n.useEffect)(()=>{let e=setInterval(()=>{v&&!v.done&&v.time&&!y&&U(v.time)&&(I(v.text),C(!0))},1e3);return()=>clearInterval(e)},[v,y]);let F=!!(v&&!v.done);return(0,t.jsxs)("div",{className:"relative w-full h-screen overflow-hidden bg-black",children:[(0,t.jsx)("div",{className:"fixed left-4 top-8 z-30 p-2",children:(0,t.jsx)(l,{mode:e,onModeChange:e=>{r(e),localStorage.setItem("feyra-mode",e)}})}),(0,t.jsx)(d,{selectedShader:o[i],onSelectShader:e=>{let t=a[e];t&&(c(t),localStorage.setItem("feyra-theme",t))}}),"simple"===e?(0,t.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[(0,t.jsx)(s,{theme:i,mode:e,className:"pointer-events-auto cursor-pointer",hasActiveReminder:F,hasUpcomingReminder:F,onClick:L}),v&&v.text&&!v.done?(0,t.jsx)(h,{text:v.text,time:v.time,onMarkDone:E,onOpenDrawer:L}):null,(0,t.jsx)(m,{showClear:!!(v&&!v.done),onClear:D})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,t.jsx)(s,{theme:i,mode:e,className:"absolute inset-0 pointer-events-none",hasActiveReminder:F,hasUpcomingReminder:F})}),(0,t.jsx)(u,{reminder:v,onOpenDrawer:L,onMarkDone:E,onClear:D})]}),(0,t.jsx)(f,{open:x,onClose:()=>g(!1),onSave:e=>{let t={text:e.text,time:e.time||void 0,done:!1};b(t),localStorage.setItem("feyra-reminder-text",t.text),t.time?localStorage.setItem("feyra-reminder-time",t.time):localStorage.removeItem("feyra-reminder-time"),localStorage.setItem("feyra-reminder-done","0"),C(!1),j&&(_(j),k(null)),M({kind:"success",title:"Reminder",message:t.time?"Reminder set":"Reminder saved",meta:t.time?"".concat(t.time," • ").concat((e=>{let[t,n]=e.split(":"),r=new Date;r.setHours(parseInt(t||"0",10),parseInt(n||"0",10),0,0);let i=new Date,o=r.getTime()-i.getTime();if(o<=0)return"due now";let a=Math.round(o/6e4),s=Math.floor(a/60),l=a%60;return s>0&&l>0?"in ".concat(s,"h ").concat(l,"m"):s>0?"in ".concat(s,"h"):"in ".concat(l,"m")})(t.time)):void 0,durationMs:3500});try{N()}catch(e){}t.time&&U(t.time)&&(I(t.text),C(!0))},initial:v&&!v.done?{text:v.text,time:v.time}:void 0}),(0,t.jsx)(p,{toasts:w,onDismiss:_})]})}}]);